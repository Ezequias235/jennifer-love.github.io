<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Para ti, Jennifer ❤️</title>
  <link rel="icon" type="image/png" href="Jennifer.png">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #6d28d9; /* Púrpura elegante */
      --secondary: #f472b6; /* Rosa suave */
      --accent: #facc15; /* Dorado mágico */
      --text: #1f2937; /* Texto oscuro */
      --bg: linear-gradient(135deg, #ede9fe 0%, #fce7f3 50%, #fef9c3 100%);
      --card-bg: rgba(255, 255, 255, 0.95);
      --shadow: 0 8px 30px rgba(109, 40, 217, 0.2);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: 'Inter', sans-serif;
      color: var(--text);
      background: var(--bg);
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      scroll-behavior: smooth;
      padding: 20px;
    }

    #clock {
      font-family: 'Playfair Display', serif;
      color: var(--secondary);
      font-size: 1.5rem;
      text-align: center;
      margin-bottom: 20px;
      animation: fadeInUp 1s ease;
    }

    /* Fondo dinámico */
    .bg-effects {
      position: fixed;
      inset: 0;
      z-index: -1;
      overflow: hidden;
    }

    .particle {
      position: absolute;
      width: 6px;
      height: 6px;
      background: var(--accent);
      border-radius: 50%;
      opacity: 0.5;
      animation: floatStar 15s linear infinite;
    }

    @keyframes floatStar {
      0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
      10% { opacity: 0.5; }
      90% { opacity: 0.5; }
      100% { transform: translateY(-100vh) scale(1); opacity: 0; }
    }

    .floating-heart {
      position: absolute;
      font-size: 20px;
      opacity: 0;
      animation: heartFloat 6s ease-out forwards;
    }

    @keyframes heartFloat {
      0% { opacity: 0; transform: translate(0, 0) rotate(0deg) scale(0.5); }
      10% { opacity: 0.7; }
      100% { opacity: 0; transform: translate(var(--x-end), var(--y-end)) rotate(360deg) scale(1.5); }
    }

    /* Animaciones */
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes heartbeat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

    /* Títulos */
    h1.main-title {
      font-family: 'Playfair Display', serif;
      font-size: 3.5rem;
      color: var(--primary);
      text-align: center;
      text-shadow: 0 2px 10px rgba(109, 40, 217, 0.3);
      margin: 30px 0;
      animation: heartbeat 3s infinite ease-in-out;
    }

    /* Portrait */
    .portrait {
      width: 180px;
      height: 180px;
      border-radius: 50%;
      background: url('Jennifer.png') center/cover no-repeat;
      border: 5px solid var(--card-bg);
      box-shadow: var(--shadow);
      margin-bottom: 20px;
      animation: float 4s ease-in-out infinite;
    }

    /* Card inicial */
    .card-start {
      width: 90%;
      max-width: 400px; /* Reducido para un diseño más compacto */
      background: var(--card-bg);
      border-radius: 20px;
      padding: 15px; /* Margen interno reducido */
      text-align: center;
      box-shadow: var(--shadow);
      animation: fadeInUp 1s ease;
      margin: 20px auto; /* Centrado con margen automático */
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px; /* Espaciado vertical */
      position: relative;
      overflow: visible;
    }

    .card-start > div {
      width: 100%; /* Ocupa todo el ancho disponible */
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .card-start h2 {
      font-family: 'Playfair Display', serif;
      color: var(--secondary);
      font-size: 1.5rem;
      margin: 10px 0;
    }

    /* Botones */
    .btn, .btn-regresar, .story-btn {
      display: inline-block;
      width: 160px;
      padding: 10px;
      background: linear-gradient(135deg, var(--secondary), var(--primary));
      color: white;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      font-weight: 500;
      text-decoration: none;
      text-align: center;
      transition: all 0.3s ease;
      margin: 8px 0;
      animation: fadeInUp 1.2s ease;
      position: relative;
      z-index: 1;
    }

    .btn:hover, .btn-regresar:hover, .story-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 5px 20px rgba(109, 40, 217, 0.3);
    }

    /* Secciones */
    .container, .momentos, .musica, .enamore, .galeria {
      display: none;
      opacity: 0;
      width: 100%;
      max-width: 550px;
      padding: 30px 15px;
      flex-direction: column;
      align-items: center;
      transition: opacity 0.6s ease;
    }

    .show {
      display: flex;
      opacity: 1;
      animation: fadeInUp 1s ease;
    }

    /* Textblock */
    .textblock {
      background: var(--card-bg);
      padding: 25px;
      border-radius: 20px;
      width: 100%;
      text-align: center;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      margin-bottom: 20px;
      animation: fadeInUp 1s ease;
    }

    .textblock h2 {
      font-family: 'Playfair Display', serif;
      color: var(--secondary);
      font-size: 1.6rem;
      margin-bottom: 15px;
    }

    .textblock p {
      font-size: 1rem;
      line-height: 1.6;
      color: var(--text);
    }

    /* Momentos */
    .moment-card {
      background: var(--card-bg);
      border-radius: 20px;
      box-shadow: var(--shadow);
      padding: 20px;
      text-align: center;
      margin-bottom: 20px;
      width: 100%;
      animation: fadeInUp 1s ease;
    }

    .moment-card img {
      width: 100%;
      border-radius: 15px;
      margin-bottom: 10px;
    }

    .moment-card h3 {
      font-family: 'Playfair Display', serif;
      color: var(--secondary);
      font-size: 1.3rem;
      margin-bottom: 5px;
    }

    .moment-card .fecha {
      font-size: 0.9rem;
      color: var(--accent);
      margin-bottom: 10px;
    }

    .moment-card p {
      font-size: 0.95rem;
      color: var(--text);
    }

    /* Canciones */
    .song-card {
      background: var(--card-bg);
      border-radius: 20px;
      box-shadow: var(--shadow);
      padding: 20px;
      text-align: center;
      margin-bottom: 20px;
      width: 100%;
      animation: fadeInUp 1s ease;
    }

    .song-card h3 {
      font-family: 'Playfair Display', serif;
      color: var(--secondary);
      font-size: 1.2rem;
      margin-bottom: 10px;
    }

    .song-card p {
      font-size: 0.95rem;
      color: var(--text);
      line-height: 1.5;
    }

    iframe {
      width: 100%;
      height: 200px;
      border: none;
      border-radius: 12px;
      margin-top: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    /* Historia interactiva */
    .story-game {
      background: var(--card-bg);
      border-radius: 20px;
      box-shadow: var(--shadow);
      padding: 20px;
      width: 100%;
      text-align: center;
      margin-bottom: 20px;
    }

    .story-step {
      display: none;
      animation: fadeInUp 1s ease;
    }

    .story-step.active {
      display: block;
    }

    .story-step h3 {
      font-family: 'Playfair Display', serif;
      color: var(--secondary);
      font-size: 1.3rem;
      margin-bottom: 10px;
    }

    .story-step p {
      font-size: 0.95rem;
      color: var(--text);
      line-height: 1.6;
      margin-bottom: 15px;
    }

    /* Galería */
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 12px;
      width: 100%;
      margin-bottom: 20px;
    }

    .gallery-item {
      cursor: pointer;
      animation: float 4s ease-in-out infinite;
      animation-delay: calc(var(--index) * 0.2s);
    }

    .gallery-item img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }

    .gallery-item:hover img {
      transform: scale(1.05);
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      position: relative;
      width: 90%;
      max-width: 800px;
      max-height: 80vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .slideshow-container {
      width: 100%;
      max-height: 80vh;
      position: relative;
      overflow: hidden;
    }

    .mySlides {
      display: none;
      width: 100%;
      text-align: center;
      transition: transform 0.3s ease;
    }

    .mySlides img {
      width: 100%;
      max-height: 70vh;
      object-fit: contain;
      border-radius: 10px;
    }

    .prev, .next {
      cursor: pointer;
      position: fixed;
      top: 50%;
      padding: 16px;
      color: white;
      font-weight: bold;
      font-size: 24px;
      transition: 0.3s ease;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 5px;
    }

    .prev { left: 10px; }
    .next { right: 10px; }

    .prev:hover, .next:hover {
      background: var(--secondary);
    }

    .close {
      position: fixed;
      top: 20px;
      right: 35px;
      color: white;
      font-size: 40px;
      font-weight: bold;
      transition: 0.3s;
    }

    .close:hover {
      color: var(--accent);
    }

    /* Footer */
    footer {
      margin: 20px 0;
      color: var(--secondary);
      font-size: 1rem;
      text-align: center;
      animation: fadeInUp 2s ease;
    }

    /* Responsive */
    @media (max-width: 480px) {
      h1.main-title { font-size: 2.5rem; }
      .portrait { width: 140px; height: 140px; }
      .textblock h2 { font-size: 1.4rem; }
      .textblock p { font-size: 0.9rem; }
      .card-start { max-width: 90%; }
      .btn, .btn-regresar, .story-btn { width: 140px; }
      .modal-content { max-width: 95%; }
      .mySlides img { max-height: 60vh; }
      .prev, .next { font-size: 18px; padding: 12px; }
    }
  </style>
</head>
<body>
  <div id="clock"></div>
  <div class="bg-effects" id="bgEffects"></div>

  <div class="card-start" id="cardStart">
    <div>
      <h2>📜 Carta para ti 📜</h2>
      <button id="btnCarta" class="btn" aria-label="Leer la carta">Leer Carta</button>
    </div>
    <div>
      <h2>🎶 Te la dedico 🎶</h2>
      <button id="btnMusica" class="btn" aria-label="Escuchar música">Escuchar Música</button>
    </div>
    <div>
      <h2>Momentos Vividos</h2>
      <button id="btnMomentosInicio" class="btn" aria-label="Ver momentos vividos">Ver Momentos</button>
    </div>
    <div>
      <h2>¿Cómo me enamoré?</h2>
      <button id="btnEnamore" class="btn" aria-label="Ver historia de amor">Ver Historia</button>
    </div>
    <div>
      <h2>📸 Galería de Fotos 📸</h2>
      <button id="btnGaleria" class="btn" aria-label="Ver galería de fotos">Ver Galería</button>
    </div>
  </div>

  <div class="container" id="container">
    <h1 class="main-title">Para ti, Jennifer.</h1>
    <div class="portrait"></div>
    <div class="textblock">
      <h2>🌷 Carta para ti, Jennifer 🌷</h2>
      <p>Desde la primera vez que te vi, sentí algo diferente.</p>
      <p>Mi corazón empezó a latir más rápido y, sin saber por qué, mi mente creó un mundo nuevo contigo dentro.</p>
      <p>Desde entonces, no dejo de pensarte; me imagino cómo sería algo entre nosotros, algo real, algo distinto.</p>
      <p>A veces me cuesta explicar lo que siento, me pongo nervioso a tu lado, pero sé que es algo grande. Todo lo que hago por ti lo hago con cariño, porque de verdad te valoro y siento que te mereces mucho más de lo que imaginas.</p>
      <p>No sé si algún día encuentre la forma de encajar en tu corazón, pero tú, sin darte cuenta, ya encontraste tu lugar en el mío.</p>
      <p>Aun cuando no estás cerca, mi corazón te siente… hoy, mañana y siempre. ❤️</p>
      <p>No sé cómo demostrarte que de verdad le importas mucho a mi corazón…</p>
      <p style="margin-top:20px;font-weight:bold;">Att: Ezequías Martínez</p>
      <div style="margin-top:15px;width:120px;height:120px;border-radius:50%;background:url('Ezequias.png') center/cover no-repeat;margin-left:auto;margin-right:auto;box-shadow:0 5px 15px rgba(0,0,0,0.2);animation:float 5s ease-in-out infinite;"></div>
      <button id="btnRegresar" class="btn-regresar" aria-label="Regresar al menú">Regresar</button>
    </div>
    <footer>— Ezequias 💖 —</footer>
  </div>

  <div class="musica" id="musica">
    <h1 class="main-title">Música dedicada</h1>
    <div class="song-card">
      <h3>🎧 Canción: Ivan Cornejo - Está Dañada</h3>
      <p>Elegí esta canción para ti porque sé que has pasado por momentos difíciles, pero también sé lo especial que eres. Quiero que recuerdes tu sonrisa, tu alegría, esas cosas que te hacen única. Que sepas que mereces ser feliz, que mereces volver a confiar y disfrutar de la vida… y yo quiero estar ahí para que esos momentos sean aún mejores contigo.</p>
      <iframe src="https://www.youtube.com/embed/rBLLbgD0FsM" allowfullscreen></iframe>
    </div>
    <div class="song-card">
      <h3>🎧 Canción: Kevin Kaarl - no me culpes por sentir</h3>
      <p>He elegido esta canción porque refleja lo que siento en estos momentos: la confusión en mis pensamientos, preguntándome si realmente quieres a alguien como yo o si solo soy yo quien lo siente. También siento que quizás te estoy presionando, aunque tal vez no lo veas así, o tal vez yo no sea lo que buscas.</p>
      <iframe src="https://www.youtube.com/embed/R0pwwqnGE9A" allowfullscreen></iframe>
    </div>
    <button id="btnVolverMusica" class="btn-regresar" aria-label="Regresar al menú">Regresar</button>
  </div>

  <div class="momentos" id="momentos">
    <h1 class="main-title">Momentos Vividos</h1>
    <div class="moment-card">
      <img src="PrimerMensaje.png" alt="Momento en el que te conocí">
      <h3>Momento en el que te conocí</h3>
      <div class="fecha">📅 17 de septiembre de 2025</div>
      <p>Ese día sentí como si mi corazón hubiese estado mucho tiempo cubierto de polvo; mis pensamientos sobre el amor revivieron, y aunque duramos un mes sin hablarnos en persona, sentí una conexión en cada mensaje, en cada mirada y en cada sonrisa. Recuerdo que el primer viernes de empresa vi el mar y el cielo tan azules, que sentí como si mis días comenzaran a iluminarse y a llenarse de color.</p>
    </div>
    <div class="moment-card">
      <img src="flores.png" alt="Primer día que hablamos de verdad">
      <h3>El día en que te di flores amarillas</h3>
      <div class="fecha">📅 21 de septiembre de 2025</div>
      <p>Realmente tenía un poco de nervios ese día; fue la primera vez que mi corazón sintió algo tan especial. Automáticamente, mi corazón se abrió hacia ti. Cuando me diste ese abrazo, para mí fueron como veinte segundos en los que mis problemas se apagaron, las voces interiores se silenciaron. Aunque hayan sido gestos simples, los hice con el corazón. Siento que esas flores se ven muy bonitas, igual que tú.</p>
    </div>
    <div class="moment-card">
      <img src="ojos.png" alt="Día de la confianza">
      <h3>Primer día que sentí confianza hacia ti</h3>
      <div class="fecha">📅 3 de octubre de 2025</div>
      <p>Aunque el momento fue chistoso, fue un día en el que me hiciste sentir confiado al enviarme ese chinchón que te diste en la frente. Aún lo recuerdo, y tus ojos siguen siendo hermosos.</p>
    </div>
    <button id="btnVolverInicio" class="btn-regresar" aria-label="Regresar al menú">Regresar</button>
  </div>

  <div class="enamore" id="enamore">
    <h1 class="main-title">Cómo me enamoré</h1>
    <div class="story-game">
      <div class="story-step active" id="step1">
        <h3>Razones</h3>
        <p>Siento que tienes un corazón muy lindo por tu forma de ser y por cómo te demuestras conmigo, aunque a veces seas un poco dura al expresarte. Me encanta tu mirada, tus ojitos cuando me miras, y tu sonrisa al hablarme o contarme cualquier cosa. Tu timidez te hace aún más especial, y cada vez que estás cerca me haces sentir en paz; al abrazarte o simplemente al saber que estás ahí, mis problemas parecen desvanecerse y me siento tranquilo. Hay algo en ti que me atrae sin saber exactamente qué es, sin razón aparente; cada vez que te veo me siento diferente, y aunque no sé qué es exactamente, todo lo que siento por ti es real.</p>
        <button class="story-btn" onclick="nextStep(2)" aria-label="Continuar al paso 2">Continuar ❤️</button>
      </div>
      <div class="story-step" id="step2">
        <h3>Por qué</h3>
        <p>Mis sentimientos crecieron porque me mostraste interés; no sé exactamente qué decirte, como cuando te expresaste nerviosa o tímida. Te he abierto mi corazón; puedes tomarlo, y si no te corresponde, simplemente has que corresponda 😁👍. Y aunque me contaste que te entregaste completamente a otra persona emocionalmente, siento que mereces ser amada, cuidada y respetada. Quiero ser esa persona que poco a poco te ame, que te quiera cada día a su lado y que te demuestre un interés real.</p>
        <button class="story-btn" onclick="prevStep(1)" aria-label="Volver al paso 1">Anterior</button>
        <button class="story-btn" onclick="nextStep(3)" aria-label="Continuar al paso 3">Siguiente ✨</button>
      </div>
      <div class="story-step" id="step3">
        <h3>Tus Ojitos y Sonrisa</h3>
        <p>Tus ojitos y tu sonrisa… me enamoré completamente de ellos. Me encanta cómo me miras y sonríes al mismo tiempo. También admiro mucho cuando sonríes y me hablas; tus pupilas siguen vivas, y quiero ayudarte a mantenerlas siempre así, llenas de vida y alegría. Quiero descubrir ese paraíso que hay en tu corazón, arreglar los momentos mal vividos dentro de ti y estudiarte, quiero saber que piensas, conocer cada parte de ti poco a poco para entenderte y cuidarte como te mereces.</p>
        <button class="story-btn" onclick="prevStep(2)" aria-label="Volver al paso 2">Anterior</button>
        <button class="story-btn" onclick="nextStep(4)" aria-label="Continuar al paso 4">Siguiente 🌟</button>
      </div>
      <div class="story-step" id="step4">
        <h3>Mi promesa</h3>
        <p>No todos los días son buenos, ni todos los días son de color azul, pero prometo que si alguna vez llega a pasar algo, siempre estaré ahí para ti en lo que sea posible. Siempre te llevo presente en mis pensamientos, así que eso no hace falta prometerlo; siempre será así. Prometo que todo lo que vivamos será bonito, que no habrá desinterés ni desconfianza, porque realmente te quiero muchísimo.</p>
        <button class="story-btn" onclick="prevStep(3)" aria-label="Volver al paso 3">Anterior</button>
        <button class="story-btn btn-regresar" onclick="returnToMain()" aria-label="Regresar al menú">Regresar</button>
      </div>
    </div>
    <button id="btnVolverEnamore" class="btn-regresar" aria-label="Regresar al menú">Regresar</button>
  </div>

  <div class="galeria" id="galeria">
    <h1 class="main-title">Galería de Fotos</h1>
    <div class="gallery-grid" id="galleryGrid">
      <div class="gallery-item" data-index="0" onclick="openModal(0)" style="--index:0">
        <img src="PrimerMensaje.png" alt="Primer Mensaje">
      </div>
      <div class="gallery-item" data-index="1" onclick="openModal(1)" style="--index:1">
        <img src="flores.png" alt="Flores Amarillas">
      </div>
      <div class="gallery-item" data-index="2" onclick="openModal(2)" style="--index:2">
        <img src="ojos.png" alt="Ojos Hermosos">
      </div>
      <div class="gallery-item" data-index="3" onclick="openModal(3)" style="--index:3">
        <img src="Jennifer.png" alt="Jennifer">
      </div>
      <div class="gallery-item" data-index="4" onclick="openModal(4)" style="--index:4">
        <img src="Ezequias.png" alt="Ezequias">
      </div>
      <div class="gallery-item" data-index="5" onclick="openModal(5)" style="--index:5">
        <img src="cartajennifer.png" alt="Carta Jennifer">
      </div>
    </div>
    <button id="btnVolverGaleria" class="btn-regresar" aria-label="Regresar al menú">Regresar</button>
  </div>

  <div id="photoModal" class="modal">
    <span class="close" onclick="closeModal()" aria-label="Cerrar galería">&times;</span>
    <div class="modal-content">
      <div class="slideshow-container" id="slideshowContainer">
        <div class="mySlides" data-index="0">
          <img src="PrimerMensaje.png" alt="Primer Mensaje">
        </div>
        <div class="mySlides" data-index="1">
          <img src="flores.png" alt="Flores Amarillas">
        </div>
        <div class="mySlides" data-index="2">
          <img src="ojos.png" alt="Ojos Hermosos">
        </div>
        <div class="mySlides" data-index="3">
          <img src="Jennifer.png" alt="Jennifer">
        </div>
        <div class="mySlides" data-index="4">
          <img src="Ezequias.png" alt="Ezequias">
        </div>
        <div class="mySlides" data-index="5">
          <img src="cartajennifer.png" alt="Carta Jennifer">
        </div>
      </div>
      <a class="prev" onclick="plusSlides(-1)" aria-label="Imagen anterior">&#10094;</a>
      <a class="next" onclick="plusSlides(1)" aria-label="Imagen siguiente">&#10095;</a>
    </div>
  </div>

  <audio id="clickSound" src="click.mp3" preload="auto"></audio>

  <script>
    const cardStart = document.getElementById('cardStart');
    const container = document.getElementById('container');
    const momentos = document.getElementById('momentos');
    const musica = document.getElementById('musica');
    const enamore = document.getElementById('enamore');
    const galeria = document.getElementById('galeria');
    const bgEffects = document.getElementById('bgEffects');
    const clickSound = document.getElementById('clickSound');
    const clock = document.getElementById('clock');

    const btnCarta = document.getElementById('btnCarta');
    const btnMusica = document.getElementById('btnMusica');
    const btnRegresar = document.getElementById('btnRegresar');
    const btnMomentosInicio = document.getElementById('btnMomentosInicio');
    const btnVolverInicio = document.getElementById('btnVolverInicio');
    const btnVolverMusica = document.getElementById('btnVolverMusica');
    const btnEnamore = document.getElementById('btnEnamore');
    const btnVolverEnamore = document.getElementById('btnVolverEnamore');
    const btnGaleria = document.getElementById('btnGaleria');
    const btnVolverGaleria = document.getElementById('btnVolverGaleria');

    const playClick = () => {
      clickSound.currentTime = 0;
      clickSound.play().catch(() => {});
    };

    [btnCarta, btnMusica, btnRegresar, btnMomentosInicio, btnVolverInicio, btnVolverMusica, btnEnamore, btnVolverEnamore, btnGaleria, btnVolverGaleria].forEach(b => {
      if (b) b.addEventListener('click', playClick);
    });

    btnCarta.addEventListener('click', () => {
      cardStart.style.opacity = 0;
      cardStart.style.transform = "scale(0.95)";
      setTimeout(() => {
        cardStart.style.display = 'none';
        container.classList.add('show');
      }, 500);
    });

    btnRegresar.addEventListener('click', () => {
      container.classList.remove('show');
      setTimeout(() => {
        cardStart.style.display = 'flex';
        cardStart.style.opacity = 0;
        cardStart.style.transform = "scale(0.95)";
        setTimeout(() => {
          cardStart.style.opacity = 1;
          cardStart.style.transform = "scale(1)";
          cardStart.style.animation = 'fadeInUp 1s ease';
        }, 50);
      }, 500);
    });

    btnMomentosInicio.addEventListener('click', () => {
      cardStart.style.opacity = 0;
      cardStart.style.transform = "scale(0.95)";
      setTimeout(() => {
        cardStart.style.display = 'none';
        momentos.classList.add('show');
      }, 500);
    });

    btnVolverInicio.addEventListener('click', () => {
      momentos.classList.remove('show');
      setTimeout(() => {
        cardStart.style.display = 'flex';
        cardStart.style.opacity = 0;
        cardStart.style.transform = "scale(0.95)";
        setTimeout(() => {
          cardStart.style.opacity = 1;
          cardStart.style.transform = "scale(1)";
          cardStart.style.animation = 'fadeInUp 1s ease';
        }, 50);
      }, 500);
    });

    btnMusica.addEventListener('click', () => {
      cardStart.style.opacity = 0;
      cardStart.style.transform = "scale(0.95)";
      setTimeout(() => {
        cardStart.style.display = 'none';
        musica.classList.add('show');
      }, 500);
    });

    btnVolverMusica.addEventListener('click', () => {
      musica.classList.remove('show');
      setTimeout(() => {
        cardStart.style.display = 'flex';
        cardStart.style.opacity = 0;
        cardStart.style.transform = "scale(0.95)";
        setTimeout(() => {
          cardStart.style.opacity = 1;
          cardStart.style.transform = "scale(1)";
          cardStart.style.animation = 'fadeInUp 1s ease';
        }, 50);
      }, 500);
    });

    btnEnamore.addEventListener('click', () => {
      cardStart.style.opacity = 0;
      cardStart.style.transform = "scale(0.95)";
      setTimeout(() => {
        cardStart.style.display = 'none';
        enamore.classList.add('show');
        resetStory();
      }, 500);
    });

    btnVolverEnamore.addEventListener('click', () => {
      enamore.classList.remove('show');
      setTimeout(() => {
        cardStart.style.display = 'flex';
        cardStart.style.opacity = 0;
        cardStart.style.transform = "scale(0.95)";
        setTimeout(() => {
          cardStart.style.opacity = 1;
          cardStart.style.transform = "scale(1)";
          cardStart.style.animation = 'fadeInUp 1s ease';
        }, 50);
      }, 500);
    });

    btnGaleria.addEventListener('click', () => {
      cardStart.style.opacity = 0;
      cardStart.style.transform = "scale(0.95)";
      setTimeout(() => {
        cardStart.style.display = 'none';
        galeria.classList.add('show');
      }, 500);
    });

    btnVolverGaleria.addEventListener('click', () => {
      galeria.classList.remove('show');
      setTimeout(() => {
        cardStart.style.display = 'flex';
        cardStart.style.opacity = 0;
        cardStart.style.transform = "scale(0.95)";
        setTimeout(() => {
          cardStart.style.opacity = 1;
          cardStart.style.transform = "scale(1)";
          cardStart.style.animation = 'fadeInUp 1s ease';
        }, 50);
      }, 500);
    });

    // Partículas de fondo y corazones
    function createParticle() {
      const particle = document.createElement('div');
      particle.classList.add('particle');
      particle.style.left = Math.random() * 100 + 'vw';
      particle.style.animationDuration = 10 + Math.random() * 10 + 's';
      bgEffects.appendChild(particle);
      setTimeout(() => particle.remove(), 20000);
    }

    function createHeart() {
      const heart = document.createElement('div');
      heart.classList.add('floating-heart');
      heart.innerText = ['❤️', '💕', '💖', '💞'][Math.floor(Math.random() * 4)];
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.top = Math.random() * 100 + 'vh';
      const side = Math.floor(Math.random() * 4);
      let xEnd, yEnd;
      switch (side) {
        case 0: // Arriba
          heart.style.left = Math.random() * 100 + 'vw';
          heart.style.top = '-5%';
          xEnd = (Math.random() - 0.5) * 200 + 'vw';
          yEnd = '110vh';
          break;
        case 1: // Derecha
          heart.style.right = '-5%';
          heart.style.top = Math.random() * 100 + 'vh';
          xEnd = '-110vw';
          yEnd = (Math.random() - 0.5) * 200 + 'vh';
          break;
        case 2: // Abajo
          heart.style.left = Math.random() * 100 + 'vw';
          heart.style.top = '105%';
          xEnd = (Math.random() - 0.5) * 200 + 'vw';
          yEnd = '-110vh';
          break;
        case 3: // Izquierda
          heart.style.left = '-5%';
          heart.style.top = Math.random() * 100 + 'vh';
          xEnd = '110vw';
          yEnd = (Math.random() - 0.5) * 200 + 'vh';
          break;
      }
      heart.style.setProperty('--x-end', xEnd);
      heart.style.setProperty('--y-end', yEnd);
      heart.style.fontSize = 15 + Math.random() * 20 + 'px';
      heart.style.animationDuration = 6 + Math.random() * 4 + 's';
      bgEffects.appendChild(heart);
      setTimeout(() => heart.remove(), 10000);
    }

    setInterval(createParticle, 600);
    setInterval(createHeart, 400);

    // Modal y Carousel para galería
    let slideIndex = 1;
    const galleryImages = [
      { src: 'PrimerMensaje.png', alt: 'Primer Mensaje' },
      { src: 'flores.png', alt: 'Flores Amarillas' },
      { src: 'ojos.png', alt: 'Ojos Hermosos' },
      { src: 'Jennifer.png', alt: 'Jennifer' },
      { src: 'Ezequias.png', alt: 'Ezequias' },
      { src: 'cartajennifer.png', alt: 'Carta Jennifer' }
    ];

    function openModal(n) {
      const modal = document.getElementById('photoModal');
      modal.style.display = 'flex';
      showSlides(slideIndex = n + 1);
      setupSwipe();
    }

    function closeModal() {
      document.getElementById('photoModal').style.display = 'none';
    }

    function plusSlides(n) {
      showSlides(slideIndex += n);
      playClick();
    }

    function showSlides(n) {
      const slides = document.getElementsByClassName("mySlides");
      if (n > slides.length) { slideIndex = 1; }
      if (n < 1) { slideIndex = slides.length; }
      for (let i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
        slides[i].style.transform = "translateX(0)";
      }
      slides[slideIndex - 1].style.display = "block";
    }

    // Swipe para galería
    let touchStartX = 0, touchEndX = 0, isDragging = false;

    function setupSwipe() {
      const slideshowContainer = document.getElementById('slideshowContainer');
      slideshowContainer.addEventListener('touchstart', (e) => {
        touchStartX = e.changedTouches[0].screenX;
        isDragging = true;
      });

      slideshowContainer.addEventListener('touchmove', (e) => {
        if (isDragging) {
          touchEndX = e.changedTouches[0].screenX;
          const diffX = touchStartX - touchEndX;
          const slide = document.getElementsByClassName("mySlides")[slideIndex - 1];
          slide.style.transform = `translateX(${-diffX}px)`;
        }
      });

      slideshowContainer.addEventListener('touchend', (e) => {
        if (isDragging) {
          touchEndX = e.changedTouches[0].screenX;
          const diffX = touchStartX - touchEndX;
          if (Math.abs(diffX) > 50) {
            if (diffX > 0) plusSlides(1);
            else plusSlides(-1);
          } else {
            const slide = document.getElementsByClassName("mySlides")[slideIndex - 1];
            slide.style.transform = "translateX(0)";
          }
          isDragging = false;
        }
      });
    }

    // Juego de Historia
    function nextStep(step) {
      document.querySelector('.story-step.active').classList.remove('active');
      document.getElementById('step' + step).classList.add('active');
      playClick();
    }

    function prevStep(step) {
      document.querySelector('.story-step.active').classList.remove('active');
      document.getElementById('step' + step).classList.add('active');
      playClick();
    }

    function resetStory() {
      document.querySelectorAll('.story-step').forEach(step => step.classList.remove('active'));
      document.getElementById('step1').classList.add('active');
    }

    function returnToMain() {
      enamore.classList.remove('show');
      setTimeout(() => {
        cardStart.style.display = 'flex';
        cardStart.style.opacity = 0;
        cardStart.style.transform = "scale(0.95)";
        setTimeout(() => {
          cardStart.style.opacity = 1;
          cardStart.style.transform = "scale(1)";
          cardStart.style.animation = 'fadeInUp 1s ease';
        }, 50);
      }, 500);
      playClick();
    }

    // Reloj simple
    function updateClock() {
      const now = new Date();
      const options = { timeZone: 'America/Puerto_Rico', hour: '2-digit', minute: '2-digit', hour12: true };
      const time = now.toLocaleTimeString('en-US', options).toUpperCase();
      clock.textContent = time;
    }

    setInterval(updateClock, 1000);
    updateClock(); // Inicializa el reloj

    // Teclado para modal
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
      if (e.key === 'ArrowLeft') plusSlides(-1);
      if (e.key === 'ArrowRight') plusSlides(1);
    });
  </script>
</body>
</html>
